import{j as r}from"./jsx-runtime-DiklIkkE.js";import{r as l}from"./index-DRjF_FHU.js";import{a as w}from"./gridUtils-BHKvpUsw.js";import"./index.esm-BKJF1BwD.js";import"./_baseEach-B-y44WsN.js";import"./isArray-Dxzbedgu.js";import"./index-DIvcuAjW.js";import"./HistogramCell-Bzivjlh2.js";import"./ChartCell-BfPIzAg-.js";import"./tiny-invariant-CopsF_GD.js";import"./isString-CNnovG4X.js";const B=(e,t,o=0)=>({rowCount:Math.max(e.length,t.length),getRows(s){var u;const a=JSON.stringify((u=s.context)==null?void 0:u.outside_df_params),d=(a==null?void 0:a.includes('"key":"B"'))?t:e,m=d.slice(s.startRow,s.endRow);o>0?setTimeout(()=>s.successCallback(m,d.length),o):s.successCallback(m,d.length)}}),k=(e,t)=>({datasource:e,data_type:"DataSource",length:t}),A={column_config:[{col_name:"a",header_name:"a",displayer_args:{displayer:"obj"}},{col_name:"b",header_name:"b",displayer_args:{displayer:"obj"}}],pinned_rows:[],left_col_configs:[{col_name:"index",header_name:"index",displayer_args:{displayer:"string"}}]},p=[{a:"A1",b:"A"},{a:"A2",b:"A"},{a:"A3",b:"A"}],g=[{a:"B1",b:"B"},{a:"B2",b:"B"},{a:"B3",b:"B"}],j=({delayed:e})=>{const[t,o]=l.useState({key:"A"}),c=l.useMemo(()=>B(p,g,e?150:0),[e]),s=l.useMemo(()=>k(c,Math.max(p.length,g.length)),[c]);return r.jsxs("div",{style:{height:420,width:520},children:[r.jsxs("div",{style:{marginBottom:8,display:"flex",gap:8},children:[r.jsx("button",{onClick:()=>o(a=>({key:a.key==="A"?"B":"A"})),children:"Toggle Params"}),r.jsxs("span",{children:["outside_df_params.key = ",t.key]})]}),r.jsx(w,{data_wrapper:s,df_viewer_config:A,summary_stats_data:[],outside_df_params:t,activeCol:["",""],setActiveCol:()=>{},error_info:""})]})},V={title:"Buckaroo/DFViewer/OutsideParamsInconsistency",component:j,parameters:{layout:"centered"},tags:["autodocs"]},n={args:{delayed:!1}},i={args:{delayed:!0}};var _,y,f;n.parameters={...n.parameters,docs:{...(_=n.parameters)==null?void 0:_.docs,source:{originalSource:`{
  args: {
    delayed: false
  }
}`,...(f=(y=n.parameters)==null?void 0:y.docs)==null?void 0:f.source}}};var h,x,b;i.parameters={...i.parameters,docs:{...(h=i.parameters)==null?void 0:h.docs,source:{originalSource:`{
  args: {
    delayed: true
  }
}`,...(b=(x=i.parameters)==null?void 0:x.docs)==null?void 0:b.source}}};const W=["Primary","WithDelay"];export{n as Primary,i as WithDelay,W as __namedExportsOrder,V as default};
